<div class="register-container">
  <div class="form-card">
    <h2>Crear Cuenta</h2>
    <p class="form-subtitle">Completa el formulario para comenzar</p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="nombre">
            <span class="label-icon">ğŸ‘¤</span>
            Nombre
          </label>
          <input id="nombre" type="text" formControlName="nombre" placeholder="Ingresa tu nombre" />
          <div class="error" *ngIf="f['nombre'].touched && f['nombre'].invalid">
            <small>El nombre es obligatorio.</small>
          </div>
        </div>

        <div class="form-group">
          <label for="apellidos">
            <span class="label-icon">ğŸ‘¥</span>
            Apellidos
          </label>
          <input id="apellidos" type="text" formControlName="apellidos" placeholder="Ingresa tus apellidos" />
          <div class="error" *ngIf="f['apellidos'].touched && f['apellidos'].invalid">
            <small>Los apellidos son obligatorios.</small>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="correo">
          <span class="label-icon">ğŸ“§</span>
          Correo ElectrÃ³nico
        </label>
        <input id="correo" type="email" formControlName="correo" placeholder="correo@ejemplo.com" />
        <div class="error" *ngIf="f['correo'].touched && f['correo'].invalid">
          <small *ngIf="f['correo'].errors?.['required']">El correo es obligatorio.</small>
          <small *ngIf="f['correo'].errors?.['email']">Correo no vÃ¡lido.</small>
          <small *ngIf="f['correo'].errors?.['emailExists']">Este correo ya estÃ¡ registrado.</small>
        </div>
        <div class="info" *ngIf="f['correo'].pending">
          <small>â³ Verificando disponibilidad...</small>
        </div>
      </div>

      <div class="form-group">
        <label for="password">
          <span class="label-icon">ğŸ”</span>
          ContraseÃ±a
        </label>
        <input id="password" type="password" formControlName="password" placeholder="MÃ­nimo 6 caracteres" />
        <div class="error" *ngIf="f['password'].touched && f['password'].invalid">
          <small *ngIf="f['password'].errors?.['required']">ContraseÃ±a obligatoria.</small>
          <small *ngIf="f['password'].errors?.['minlength']">MÃ­nimo 6 caracteres.</small>
        </div>
      </div>

      <div class="form-group">
        <label for="confirmar">
          <span class="label-icon">âœ”ï¸</span>
          Confirmar ContraseÃ±a
        </label>
        <input id="confirmar" type="password" formControlName="confirmar" placeholder="Repite tu contraseÃ±a" />
        <div class="error" *ngIf="form.errors?.['mismatch'] && f['confirmar'].touched">
          <small>Las contraseÃ±as no coinciden.</small>
        </div>
      </div>

      <div class="success" *ngIf="successMsg">
        <small>âœ… {{ successMsg }}</small>
      </div>
      <div class="error" *ngIf="errorMsg">
        <small>âŒ {{ errorMsg }}</small>
      </div>

      <button type="submit" class="btn-register" [disabled]="isLoading || form.pending || form.invalid">
        <span *ngIf="isLoading">â³ Registrando...</span>
        <span *ngIf="!isLoading && form.pending">ğŸ” Verificando...</span>
        <span *ngIf="!isLoading && !form.pending">ğŸš€ Crear Cuenta</span>
      </button>

      <div class="divider">
        <span>o</span>
      </div>

      <p class="login-link">
        Â¿Ya tienes cuenta?
        <a routerLink="/auth/login">Inicia sesiÃ³n aquÃ­</a>
      </p>
    </form>
  </div>
</div>
